Z80
===

A Z80 emulator study in C++. By Sijmen Mulder <ik@sjmulder.nl>.

Input:

	int main()
	{
		Z80 cpu;
		cpu.ram() = {
			EXT_FD, FD_LD_A_imm, 0x01,
			EXT_DD, DD_LD_B_imm, 0x0A,
			LD_C_A,
			LD_D_B,
			EXT_FD, FD_LD_A_ext, 0x00, 0x03,
			NOOP
		};

		cpu.run_to_nop(true);
	}

Output:

	A: 0x00  F: 0x00  A': 0x00  F': 0x00
	B: 0x00  C: 0x00  B': 0x00  C': 0x00
	D: 0x00  E: 0x00  D': 0x00  E': 0x00
	H: 0x00  L: 0x00  H': 0x00  L': 0x00
	I: 0x00  R: 0x00
	IX: 0x0000
	IY: 0x0000
	SP: 0x0000
	PC: 0x0000

	> ld a, 0x01

	A: 0x01  F: 0x00  A': 0x00  F': 0x00
	B: 0x00  C: 0x00  B': 0x00  C': 0x00
	D: 0x00  E: 0x00  D': 0x00  E': 0x00
	H: 0x00  L: 0x00  H': 0x00  L': 0x00
	I: 0x00  R: 0x00
	IX: 0x0000
	IY: 0x0000
	SP: 0x0000
	PC: 0x0003

	> ld b, 0x0a

	A: 0x01  F: 0x00  A': 0x00  F': 0x00
	B: 0x0a  C: 0x00  B': 0x00  C': 0x00
	D: 0x00  E: 0x00  D': 0x00  E': 0x00
	H: 0x00  L: 0x00  H': 0x00  L': 0x00
	I: 0x00  R: 0x00
	IX: 0x0000
	IY: 0x0000
	SP: 0x0000
	PC: 0x0006

	> ld c, a

	A: 0x01  F: 0x00  A': 0x00  F': 0x00
	B: 0x0a  C: 0x01  B': 0x00  C': 0x00
	D: 0x00  E: 0x00  D': 0x00  E': 0x00
	H: 0x00  L: 0x00  H': 0x00  L': 0x00
	I: 0x00  R: 0x00
	IX: 0x0000
	IY: 0x0000
	SP: 0x0000
	PC: 0x0007

	> ld d, b

	A: 0x01  F: 0x00  A': 0x00  F': 0x00
	B: 0x0a  C: 0x01  B': 0x00  C': 0x00
	D: 0x0a  E: 0x00  D': 0x00  E': 0x00
	H: 0x00  L: 0x00  H': 0x00  L': 0x00
	I: 0x00  R: 0x00
	IX: 0x0000
	IY: 0x0000
	SP: 0x0000
	PC: 0x0008

	> ld a, (0x0003)

	A: 0xdd  F: 0x00  A': 0x00  F': 0x00
	B: 0x0a  C: 0x01  B': 0x00  C': 0x00
	D: 0x0a  E: 0x00  D': 0x00  E': 0x00
	H: 0x00  L: 0x00  H': 0x00  L': 0x00
	I: 0x00  R: 0x00
	IX: 0x0000
	IY: 0x0000
	SP: 0x0000
	PC: 0x000c

	> noop
